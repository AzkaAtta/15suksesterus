---
/**
 * SchemaKomentarInstagram.astro — JSON-LD untuk /komentar-instagram/
 * Termasuk: WebPage, BreadcrumbList, Service(+Offer & OfferCatalog), FAQPage (opsional)
 * Dibuat agar lulus validator schema.org tanpa error.
 */

interface FAQItem { q: string; a: string }

const {
  site = 'https://auradigital.id',
  pageUrl = 'https://auradigital.id/komentar-instagram/',
  pageTitle = 'Jasa Komentar Instagram Organik & Relevan — Aura Digital',
  description = 'Tambah komentar Instagram yang relevan & aman untuk meningkatkan engagement dan social proof. Cocok untuk Feed, Reels, & kampanye brand.',
  imageWebp = '/komentar-instagram.webp',
  imagePng = '/komentar-instagram.png',
  serviceName = 'Komentar Instagram',
  serviceType = 'Social Media Comments',
  areaServed = 'ID',
  // harga dasar: 1 komentar = IDR 3.000
  faqItems = [
    { q: 'Apakah komentar yang ditambahkan aman?', a: 'Proses bertahap dengan kontrol kualitas agar terlihat natural dan aman.' },
    { q: 'Bisakah menyesuaikan gaya komentar?', a: 'Bisa. Kamu dapat memberi contoh tone atau daftar kalimat; tim kami kurasi sebelum distribusi.' },
  ],
} = Astro.props

const imgAbs = {
  '@type': 'ImageObject',
  url: `${site}${imagePng}`,
  contentUrl: `${site}${imageWebp}`,
  encodingFormat: ['image/png', 'image/webp']
}

const graph: any[] = [
  {
    '@type': 'WebPage',
    '@id': `${pageUrl}#webpage`,
    url: pageUrl,
    name: pageTitle,
    description,
    isPartOf: { '@id': `${site}/#website` },
    primaryImageOfPage: imgAbs
  },
  {
    '@type': 'BreadcrumbList',
    '@id': `${pageUrl}#breadcrumb`,
    itemListElement: [
      { '@type': 'ListItem', position: 1, name: 'Home', item: `${site}/` },
      { '@type': 'ListItem', position: 2, name: 'Layanan', item: `${site}/layanan/` },
      { '@type': 'ListItem', position: 3, name: serviceName, item: pageUrl }
    ]
  },
  {
    '@type': 'Service',
    '@id': `${pageUrl}#service`,
    name: serviceName,
    url: pageUrl,
    description,
    serviceType,
    areaServed,
    image: imgAbs,
    provider: { '@type': 'Organization', name: 'Aura Digital', url: site },
    offers: [
      {
        '@type': 'Offer',
        price: '3000',             // 1 komentar = IDR 3.000
        priceCurrency: 'IDR',
        availability: 'https://schema.org/InStock',
        url: `${pageUrl}?ref=order`
      }
    ],
    potentialAction: [
      { '@type': 'OrderAction', target: `${pageUrl}?ref=order` } // ContactAction dihapus agar tidak error
    ]
  },
  {
    '@type': 'OfferCatalog',
    '@id': `${pageUrl}#catalog`,
    name: 'Paket Komentar Instagram',
    url: pageUrl,
    itemListElement: [
      {
        '@type': 'Offer',
        name: '100 Komentar Instagram',
        price: '300000',
        priceCurrency: 'IDR',
        url: `${pageUrl}?ref=order&paket=100`
      },
      {
        '@type': 'Offer',
        name: '500 Komentar Instagram',
        price: '1500000',
        priceCurrency: 'IDR',
        url: `${pageUrl}?ref=order&paket=500`
      },
      {
        '@type': 'Offer',
        name: '1000 Komentar Instagram',
        price: '3000000',
        priceCurrency: 'IDR',
        url: `${pageUrl}?ref=order&paket=1000`
      }
    ]
  }
]

// FAQ opsional
if (faqItems.length) {
  graph.push({
    '@type': 'FAQPage',
    '@id': `${pageUrl}#faq`,
    mainEntity: faqItems.map(f => ({
      '@type': 'Question',
      name: f.q,
      acceptedAnswer: { '@type': 'Answer', text: f.a }
    }))
  })
}

const jsonld = { '@context': 'https://schema.org', '@graph': graph }
---

<script type="application/ld+json" set:html={JSON.stringify(jsonld)}></script>
